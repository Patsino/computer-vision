# Computer vision lab — README

## Использованные инструменты и библиотеки

Python 3.12 

opencv-python 4.12.0.88 

numpy 2.3.3 

Tk/Tkinter 8.6.17

## Интерфейс
- При старте: диалог выбора изображения.
- Окно 1: слева **оригинал**, справа **текущий результат**.
- Окно 2: **Histograms** — две серые гистограммы (оригинал и результат).
- Управление — **только из консоли**.

## Команды 
Вводите номер и Enter.

1. Оттенки серого (среднее) — **grayscale (average)**
2. Оттенки серого через HSV — **grayscale via HSV (Value)**
3. Бинаризация по Оцу — **binarization (Otsu)**
4. Нормализация Min–Max — **normalization (min–max on gray)**
5. Эквализация гистограммы — **histogram equalization (gray)**
6. Растяжение гистограммы — **histogram stretching (percentiles)**
7. Свёртка (box 3×3) — **convolution (box 3×3)**
8. Размытие — **Gaussian blur (9×9)**
9. Сохранить — **save**
10. Повышение чёткости — **sharpen (Laplacian)**
11. Края (Собель) — **edges (Sobel)**
12. Циклический сдвиг — **cyclic shift (x=50, y=50)**
13. Поворот от произвольного центра — **rotate around arbitrary center**
14. Сброс к оригиналу — **reset to original**
0. Выход — **exit**

## Подробно: что делает каждая команда и как работает

**1) grayscale (average)**  
- Формула на пиксель: `Y = (B + G + R) / 3`.
- Возвращается 3‑канальный BGR для совместимости с остальными операциями.

**2) grayscale via HSV (Value)**  
- Перевод в HSV, берётся канал `V` (яркость).
- Хорошо отражает перцептивную яркость на цветных сценах.

**3) binarization (Otsu)**  
- Перевод в gray → автоматический порог методом Отсу.
- Алгоритм ищет порог, минимизирующий сумму внутриклассовых дисперсий двух классов.

**4) normalization (min–max on gray)**  
- Перевод в gray → линейная нормализация диапазона интенсивностей в `[0, 255]`.
- Усиливает контраст, если исходный диапазон был сжат.

**5) histogram equalization (gray)**  
- `cv2.equalizeHist` перераспределяет интенсивности, делая гистограмму равномернее.
- Подходит для тусклых/неравномерно освещённых изображений.

**6) histogram stretching (percentiles)**  
- Перевод в gray → вычисление порогов по перцентилям 2% и 98%.
- Линейное растяжение между этими порогами. Снижает влияние редких выбросов.

**7) convolution (box 3×3)**  
- Свёртка ядром 3×3, заполненным единицами и нормированным на 1/9.
- Простое усредняющее сглаживание, размывает границы вместе с шумом.

**8) Gaussian blur (9×9)**  
- Гауссово сглаживание `GaussianBlur` с ядром 9×9.
- Снижает шум мягче и стабильнее, чем box‑свёртка.

**9) save**  
- Диалог “Save As…”. Форматы: PNG, JPEG, BMP.
- Сохраняется текущее правое изображение (результат).

**10) sharpen (Laplacian)**  
- Вычисляется Лапласиан на gray (`ksize=1`), затем смешивается с исходником:
  `output = image + α * laplacian`, где α < 0 усиливает резкость.
- Подчёркивает высокие частоты и детали, возможны артефакты на шуме.

**11) edges (Sobel)**  
- Градиенты по X и Y (Sobel, `ksize=3`), их взвешенная сумма как приближение магнитуды.
- Делает видимыми контуры и переходы яркости.

**12) cyclic shift (50 pixels on both skales)**  
- Циклический сдвиг (оборачивание краёв) по горизонтали и вертикали.
- Демонстрирует периодические граничные условия.

**13) rotate around arbitrary center**  
- Введите три значения в консоль:
  1) горизонтальная позиция центра в процентах `0–100` (слева → справа),
  2) вертикальная в процентах `0–100` (сверху → вниз),
  3) угол поворота в градусах (можно отрицательный).
- Центр = `(width * x%, height * y%)`. Трансформация `warpAffine`.
- За пределами исходника возможны пустые области (чёрный фон).

**14) reset to original**  
- Копирует исходное изображение в область результата, стирая цепочку преобразований.
